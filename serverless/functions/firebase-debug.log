[debug] [2018-09-17T05:38:46.725Z] ----------------------------------------------------------------------
[debug] [2018-09-17T05:38:46.728Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\f\AppData\Roaming\npm\node_modules\firebase-tools\bin\firebase deploy --only functions --debug
[debug] [2018-09-17T05:38:46.728Z] CLI Version:   4.2.1
[debug] [2018-09-17T05:38:46.728Z] Platform:      win32
[debug] [2018-09-17T05:38:46.729Z] Node Version:  v8.11.4
[debug] [2018-09-17T05:38:46.729Z] Time:          Sun Sep 16 2018 22:38:46 GMT-0700 (Pacific Daylight Time)
[debug] [2018-09-17T05:38:46.729Z] ----------------------------------------------------------------------
[debug] 
[debug] [2018-09-17T05:38:46.737Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2018-09-17T05:38:46.738Z] > authorizing via signed-in user
[debug] [2018-09-17T05:38:46.740Z] > refreshing access token with scopes: ["email","https://www.googleapis.com/auth/cloud-platform","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","openid"]
[debug] [2018-09-17T05:38:46.741Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  

[debug] [2018-09-17T05:38:46.955Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:38:46.959Z] >>> HTTP REQUEST GET https://admin.firebase.com/v1/projects/cavalry-app  
 
[debug] [2018-09-17T05:38:47.265Z] <<< HTTP RESPONSE 200
[info] 
[info] === Deploying to 'cavalry-app'...
[info] 
[info] i  deploying functions
[debug] [2018-09-17T05:38:49.518Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "engines": {
    "node": "8"
  },
  "scripts": {
    "setup": "cross-env \"NODE_SETUP=algolia\" node setup.js",
    "lint": "eslint .",
    "serve": "firebase serve --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "dependencies": {
    "algolia-firebase-functions": "^2.0.0",
    "algoliasearch": "^3.30.0",
    "child_process": "^1.0.2",
    "firebase-admin": "^6.0.0",
    "firebase-functions": "^2.0.5",
    "readline": "^1.3.0"
  },
  "devDependencies": {
    "eslint": "^4.12.0",
    "eslint-plugin-promise": "^3.6.0"
  },
  "private": true
}
[info] i  functions: ensuring necessary APIs are enabled...
[debug] [2018-09-17T05:38:49.519Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/cloudfunctions.googleapis.com/projectSettings/cavalry-app?view=CONSUMER_VIEW  
 
[debug] [2018-09-17T05:38:49.519Z] >>> HTTP REQUEST GET https://servicemanagement.googleapis.com/v1/services/runtimeconfig.googleapis.com/projectSettings/cavalry-app?view=CONSUMER_VIEW  
 
[debug] [2018-09-17T05:38:50.395Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:38:50.461Z] <<< HTTP RESPONSE 200
[info] +  functions: all necessary APIs are enabled
[debug] [2018-09-17T05:38:50.462Z] >>> HTTP REQUEST GET https://cloudresourcemanager.googleapis.com/v1/projects/cavalry-app  
 
[debug] [2018-09-17T05:38:50.849Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:38:50.850Z] >>> HTTP REQUEST GET https://mobilesdk-pa.googleapis.com/v1/projects/249641658332:getServerAppConfig  
 
[debug] [2018-09-17T05:38:51.015Z] <<< HTTP RESPONSE 200
[info] i  functions: preparing functions directory for uploading...
[debug] [2018-09-17T05:38:51.020Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/cavalry-app/configs  
 
[debug] [2018-09-17T05:38:51.197Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:38:51.198Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/cavalry-app/configs/algolia/variables  
 
[debug] [2018-09-17T05:38:51.373Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:38:51.374Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/cavalry-app/configs/algolia/variables/index  
 
[debug] [2018-09-17T05:38:51.374Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/cavalry-app/configs/algolia/variables/key  
 
[debug] [2018-09-17T05:38:51.374Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/cavalry-app/configs/algolia/variables/app  
 
[debug] [2018-09-17T05:38:51.375Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/cavalry-app/configs/algolia/variables/app_id  
 
[debug] [2018-09-17T05:38:51.375Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/cavalry-app/configs/algolia/variables/search_key  
 
[debug] [2018-09-17T05:38:51.376Z] >>> HTTP REQUEST GET https://runtimeconfig.googleapis.com/v1beta1/projects/cavalry-app/configs/algolia/variables/api_key  
 
[debug] [2018-09-17T05:38:51.495Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:38:51.523Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:38:51.526Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:38:51.531Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:38:51.535Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:38:51.541Z] <<< HTTP RESPONSE 200
[info] i  functions: packaged functions (58.08 KB) for uploading
[debug] [2018-09-17T05:38:51.906Z] >>> HTTP REQUEST POST https://cloudfunctions.googleapis.com/v1/projects/cavalry-app/locations/us-central1/functions:generateUploadUrl  
 
[debug] [2018-09-17T05:38:52.151Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:38:52.152Z] >>> HTTP REQUEST PUT https://storage.googleapis.com/gcf-upload-us-central1-831fdfe2-e6e1-4ea5-b4c2-410055666aa0/fc8bfc43-2b90-4c22-8d25-a2d9554fc2a1.zip?GoogleAccessId=service-249641658332@gcf-admin-robot.iam.gserviceaccount.com&Expires=1537164529&Signature=CVVTR%2BVQSWZhq7SXZ4VnGoRQS6wD6hOtgi9SFjmaodGkHgoChOtJlCrQpKTzytVm980cvO9xti1TW8LBy0Tri5dSxow8xfAI9XuSPVfLGrx9eDrWhhnhDXfPdYtV1EqEUYsIXT%2FyhDglucVgZSfV85Ez7t16iK1%2FaVjkw2T4x58972vdkRqpbDfqQan2aZPkLIiRr8td28ymLvwq%2FhS992hhOtAKYsvhVkvQLI6LTCti9tUjbrO9lYFGmwGYIWjEtfTs%2BtwTomdRt2QBgSavxe61114%2BT%2BmNPCYFDb%2FWc3ToeeopJUqvWavaAcwdEl3%2FDfoiRnZHv2ExOGOyeCMCpA%3D%3D  

[debug] [2018-09-17T05:38:52.641Z] <<< HTTP RESPONSE 200
[info] +  functions: functions folder uploaded successfully
[debug] [2018-09-17T05:38:52.646Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/cavalry-app/locations/-/functions  
 
[debug] [2018-09-17T05:38:53.315Z] <<< HTTP RESPONSE 200
[info] i  functions: updating Node.js 8 function redirectHeroku(us-central1)...
[debug] [2018-09-17T05:38:53.318Z] Trigger is:  {"httpsTrigger":{}}
[info] i  functions: updating Node.js 8 function onPostWrite(us-central1)...
[debug] [2018-09-17T05:38:53.318Z] Trigger is:  {"eventTrigger":{"resource":"projects/cavalry-app/databases/(default)/documents/posts/{postId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"}}
[info] i  functions: updating Node.js 8 function onRequestWrite(us-central1)...
[debug] [2018-09-17T05:38:53.319Z] Trigger is:  {"eventTrigger":{"resource":"projects/cavalry-app/databases/(default)/documents/requests/{requestId}","eventType":"providers/cloud.firestore/eventTypes/document.write","service":"firestore.googleapis.com"}}
[debug] [2018-09-17T05:38:53.320Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/cavalry-app/locations/us-central1/functions/redirectHeroku 
query params: {"updateMask":"sourceUploadUrl,name,labels,runtime,httpsTrigger"} 

[debug] [2018-09-17T05:38:53.321Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/cavalry-app/locations/us-central1/functions/onPostWrite 
query params: {"updateMask":"sourceUploadUrl,name,labels,runtime,eventTrigger.resource,eventTrigger.eventType,eventTrigger.service"} 

[debug] [2018-09-17T05:38:53.322Z] >>> HTTP REQUEST PATCH https://cloudfunctions.googleapis.com/v1/projects/cavalry-app/locations/us-central1/functions/onRequestWrite 
query params: {"updateMask":"sourceUploadUrl,name,labels,runtime,eventTrigger.resource,eventTrigger.eventType,eventTrigger.service"} 

[debug] [2018-09-17T05:38:53.737Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:38:53.741Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:38:53.742Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:38:53.743Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/projects/cavalry-app/locations/-/functions  
 
[debug] [2018-09-17T05:38:54.600Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:38:54.601Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvcmVkaXJlY3RIZXJva3Uvc2hXbkt0ZEVFMzA  
 
[debug] [2018-09-17T05:38:54.601Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvb25Qb3N0V3JpdGUvbEc2Z2loWTZHSlk  
 
[debug] [2018-09-17T05:38:54.602Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvb25SZXF1ZXN0V3JpdGUvZkh4Y21NejBBT1U  
 
[debug] [2018-09-17T05:38:54.738Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:38:54.943Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:38:54.951Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:38:56.741Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvb25Qb3N0V3JpdGUvbEc2Z2loWTZHSlk  
 
[debug] [2018-09-17T05:38:56.945Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvcmVkaXJlY3RIZXJva3Uvc2hXbkt0ZEVFMzA  
 
[debug] [2018-09-17T05:38:56.953Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvb25SZXF1ZXN0V3JpdGUvZkh4Y21NejBBT1U  
 
[debug] [2018-09-17T05:38:57.096Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:38:57.267Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:38:57.282Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:38:59.098Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvb25Qb3N0V3JpdGUvbEc2Z2loWTZHSlk  
 
[debug] [2018-09-17T05:38:59.220Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:38:59.268Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvcmVkaXJlY3RIZXJva3Uvc2hXbkt0ZEVFMzA  
 
[debug] [2018-09-17T05:38:59.283Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvb25SZXF1ZXN0V3JpdGUvZkh4Y21NejBBT1U  
 
[debug] [2018-09-17T05:38:59.402Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:38:59.595Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:39:01.221Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvb25Qb3N0V3JpdGUvbEc2Z2loWTZHSlk  
 
[debug] [2018-09-17T05:39:01.404Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvb25SZXF1ZXN0V3JpdGUvZkh4Y21NejBBT1U  
 
[debug] [2018-09-17T05:39:01.552Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:39:01.596Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvcmVkaXJlY3RIZXJva3Uvc2hXbkt0ZEVFMzA  
 
[debug] [2018-09-17T05:39:01.726Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:39:01.729Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:39:03.553Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvb25Qb3N0V3JpdGUvbEc2Z2loWTZHSlk  
 
[debug] [2018-09-17T05:39:03.727Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvcmVkaXJlY3RIZXJva3Uvc2hXbkt0ZEVFMzA  
 
[debug] [2018-09-17T05:39:03.730Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvb25SZXF1ZXN0V3JpdGUvZkh4Y21NejBBT1U  
 
[debug] [2018-09-17T05:39:03.878Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:39:04.054Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:39:04.074Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:39:05.879Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvb25Qb3N0V3JpdGUvbEc2Z2loWTZHSlk  
 
[debug] [2018-09-17T05:39:06.055Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvb25SZXF1ZXN0V3JpdGUvZkh4Y21NejBBT1U  
 
[debug] [2018-09-17T05:39:06.073Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvcmVkaXJlY3RIZXJva3Uvc2hXbkt0ZEVFMzA  
 
[debug] [2018-09-17T05:39:06.204Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:39:06.373Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:39:06.409Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:39:08.205Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvb25Qb3N0V3JpdGUvbEc2Z2loWTZHSlk  
 
[debug] [2018-09-17T05:39:08.375Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvb25SZXF1ZXN0V3JpdGUvZkh4Y21NejBBT1U  
 
[debug] [2018-09-17T05:39:08.412Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvcmVkaXJlY3RIZXJva3Uvc2hXbkt0ZEVFMzA  
 
[debug] [2018-09-17T05:39:08.549Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:39:08.709Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:39:10.551Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvb25Qb3N0V3JpdGUvbEc2Z2loWTZHSlk  
 
[debug] [2018-09-17T05:39:10.710Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvb25SZXF1ZXN0V3JpdGUvZkh4Y21NejBBT1U  
 
[debug] [2018-09-17T05:39:10.880Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:39:11.035Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:39:12.882Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvb25Qb3N0V3JpdGUvbEc2Z2loWTZHSlk  
 
[debug] [2018-09-17T05:39:13.037Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvb25SZXF1ZXN0V3JpdGUvZkh4Y21NejBBT1U  
 
[debug] [2018-09-17T05:39:13.233Z] <<< HTTP RESPONSE 200
[info] +  functions[onPostWrite(us-central1)]: Successful update operation. 
[debug] [2018-09-17T05:39:13.358Z] <<< HTTP RESPONSE 200
[debug] [2018-09-17T05:39:15.360Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvb25SZXF1ZXN0V3JpdGUvZkh4Y21NejBBT1U  
 
[debug] [2018-09-17T05:39:29.421Z] [functions] failed to get status of operation: operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvcmVkaXJlY3RIZXJva3Uvc2hXbkt0ZEVFMzA
[debug] [2018-09-17T05:39:29.422Z] [functions] Server Error. connect ETIMEDOUT 216.58.194.202:443
[debug] [2018-09-17T05:39:33.423Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvcmVkaXJlY3RIZXJva3Uvc2hXbkt0ZEVFMzA  
 
[debug] [2018-09-17T05:39:33.830Z] <<< HTTP RESPONSE 200
[warn] !  functions[redirectHeroku(us-central1)]: Deployment error.
[info] Server Error. connect ETIMEDOUT 216.58.194.202:443
[debug] [2018-09-17T05:39:36.365Z] [functions] failed to get status of operation: operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvb25SZXF1ZXN0V3JpdGUvZkh4Y21NejBBT1U
[debug] [2018-09-17T05:39:36.365Z] [functions] Server Error. connect ETIMEDOUT 216.58.194.202:443
[debug] [2018-09-17T05:39:40.367Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvb25SZXF1ZXN0V3JpdGUvZkh4Y21NejBBT1U  
 
[debug] [2018-09-17T05:40:01.376Z] [functions] failed to get status of operation: operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvb25SZXF1ZXN0V3JpdGUvZkh4Y21NejBBT1U
[debug] [2018-09-17T05:40:01.376Z] [functions] Server Error. connect ETIMEDOUT 216.58.194.202:443
[debug] [2018-09-17T05:40:05.378Z] >>> HTTP REQUEST GET https://cloudfunctions.googleapis.com/v1/operations/Y2F2YWxyeS1hcHAvdXMtY2VudHJhbDEvb25SZXF1ZXN0V3JpdGUvZkh4Y21NejBBT1U  
 
[debug] [2018-09-17T05:40:05.767Z] <<< HTTP RESPONSE 200
[warn] !  functions[onRequestWrite(us-central1)]: Deployment error.
[info] Server Error. connect ETIMEDOUT 216.58.194.202:443
[info] 

Functions deploy had errors. To continue deploying other features (such as database), run:
[info]     firebase deploy --except functions
[error] 
[error] Error: Functions did not deploy properly.
